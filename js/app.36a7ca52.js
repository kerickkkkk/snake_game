(function(e){function t(t){for(var r,i,u=t[0],c=t[1],a=t[2],s=0,f=[];s<u.length;s++)i=u[s],Object.prototype.hasOwnProperty.call(l,i)&&l[i]&&f.push(l[i][0]),l[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);d&&d(t);while(f.length)f.shift()();return o.push.apply(o,a||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,u=1;u<n.length;u++){var c=n[u];0!==l[c]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},l={app:0},o=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/snake_game/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=t,u=u.slice();for(var a=0;a<u.length;a++)t(u[a]);var d=c;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);var r=n("7a23"),l=(n("14d9"),{__name:"SnakeGame",setup(e){const t=Object(r["q"])("null");let n=null;const l=7,o=20;let i=[],u=null,c=o/2,a=o/2,d=2,s=0,f=0,p=5,v=5,h=0,b=null;const y=(e,t,r,l,o)=>{n.fillStyle=e,n.font=t+"px Roboto",n.fillText(r,l,o)},m=(e,t,r,l,o)=>{n.fillStyle=e,n.fillRect(t,r,l,o)},g=()=>{n.fillStyle="black",n.fillRect(0,0,t.value.clientWidth,t.value.clientHeight)},O=()=>{c+=s,a+=f},j=()=>{p=Math.floor(Math.random()*o),v=Math.floor(Math.random()*o)},k=()=>{c===p&&a===v&&(j(),d++,h++)},w=()=>{if(0===s&&0===f)return!1;let e=!1;(c<0||a<0||c>=o||a>=o)&&(e=!0);for(let t=0;t<i.length;t++){const n=i[t];if(n.x===c&&n.y===a){e=!0;break}}return e&&(document.body.removeEventListener("keyup",S),m("rgba(0,0,0,0.7)",0,0,t.value.clientWidth,t.value.clientHeight),y("white",40,"Game over !",t.value.clientWidth/4,t.value.clientHeight/2),b=setTimeout(()=>{document.body.addEventListener("keyup",H),y("yellow",20,"按任意鍵重啟",t.value.clientWidth/2-60,t.value.clientHeight/2+45)},1e3)),e},_=()=>{i.length>0&&i.forEach(({x:e,y:t})=>{m("green",e*o,t*o,u,u)}),i.push({x:c,y:a}),i.length>d&&i.shift(),m("orange",c*o,a*o,u,u)},x=()=>{m("red",p*o,v*o,u,u)},W=()=>{y("white",20,`得分: ${h} `,t.value.clientWidth-100,40),y("white",20,`appleX: ${p}, appleY: ${v} `,t.value.clientWidth-200,t.value.clientHeight-30)},E=()=>{const e=t.value.clientWidth/2-90,n=t.value.clientWidth/2-80,r=t.value.clientHeight/2+20,l=.75*t.value.clientWidth-80,o=t.value.clientHeight/2+50;y("green",60,"貪食蛇",e,90),y("white",40,"開始遊戲",n,r),y("yellow",20,"按 Enter 開始",l,o),document.body.addEventListener("keyup",M)},S=e=>{const{keyCode:t}=e;if(37===t){if(1===s)return!1;s=-1,f=0}else if(39===t){if(-1===s)return!1;s=1,f=0}else if(38===t){if(1===f)return!1;s=0,f=-1}else if(40===t){if(-1===f)return!1;s=0,f=1}},H=()=>{i=[],c=o/2,a=o/2,d=2,s=0,f=0,p=5,v=5,h=0,clearTimeout(b),L()},M=e=>{console.log(13===e.keyCode),13===e.keyCode?L():alert("請按 enter !!!")},T=()=>{clearTimeout(b),O();const e=w();if(e)return!1;g(),0===s&&0===f&&y("rgba(100,100,100,.8)",30,"按上下左右鍵出發",t.value.clientWidth/2-120,t.value.clientHeight/2+u+10),_(),k(),W(),0===s&&0===f||x(),b=setTimeout(()=>{T()},1e3/l)},L=()=>{document.body.removeEventListener("keyup",H),document.body.removeEventListener("keyup",M),document.body.addEventListener("keyup",S),g(),j(),T()};return Object(r["l"])(()=>{n=t.value.getContext("2d"),u=t.value.clientWidth/o-2,c=u/2,a=u/2,E()}),Object(r["m"])(()=>{document.body.removeEventListener("keyup",S),clearTimeout(b)}),(e,n)=>(Object(r["n"])(),Object(r["c"])("canvas",{id:"game",ref_key:"gameArea",ref:t,width:"400",height:"400"},null,512))}}),o=(n("bb0c"),n("6b0d")),i=n.n(o);const u=i()(l,[["__scopeId","data-v-602d777b"]]);var c=u,a={__name:"App",setup(e){return(e,t)=>(Object(r["n"])(),Object(r["c"])("div",null,[Object(r["d"])(c)]))}};n("ede6");const d=a;var s=d,f=n("6605");const p=[],v=Object(f["a"])({history:Object(f["b"])(),routes:p});var h=v,b=n("5502"),y=Object(b["a"])({state:{},mutations:{},actions:{},modules:{}});Object(r["b"])(s).use(y).use(h).mount("#app")},acd9:function(e,t,n){},bb0c:function(e,t,n){"use strict";n("e8d0")},e8d0:function(e,t,n){},ede6:function(e,t,n){"use strict";n("acd9")}});